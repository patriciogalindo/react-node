{"version":3,"sources":["actions/index.js","actions/types.js","components/Landing.js","components/Payments.js","components/Header.js","components/App.js","reducers/index.js","reducers/authReducer.js","index.js"],"names":["fetchUser","dispatch","a","async","axios","get","res","type","payload","data","handleToken","token","post","Landing","style","textAlign","Payments","name","description","amount","props","stripeKey","process","className","Component","connect","actions","Header","this","auth","href","key","margin","credits","to","renderContent","Dashboard","SurveyNew","App","exact","path","component","combineReducers","state","action","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","render","document","querySelector","console","log"],"mappings":"8YAGaA,EAAY,kBAAM,SAAMC,GAAN,eAAAC,EAAAC,OAAA,kEAAAD,EAAA,MACXE,IAAMC,IAAI,qBADC,OACvBC,EADuB,OAE3BL,EAAS,CAACM,KCLY,aDKMC,QAASF,EAAIG,OAFd,uCAKlBC,EAAc,SAACC,GAAD,OAAW,SAAMV,GAAN,eAAAC,EAAAC,OAAA,kEAAAD,EAAA,MAClBE,IAAMQ,KAAK,cAAeD,IADR,OAC9BL,EAD8B,OAEpCL,EAAS,CAAEM,KCVa,aDUKC,QAASF,EAAIG,OAFN,uCEKvBI,EAXC,WACd,OACE,yBAAKC,MAAQ,CAACC,UAAW,WACzB,sCADA,qC,iBCEEC,E,iLACM,IAAD,OACP,OACE,kBAAC,IAAD,CACEC,KAAK,SACLC,YAAY,yBACZC,OAAS,IACTR,MAAO,SAAAA,GAAK,OAAG,EAAKS,MAAMV,YAAYC,IACtCU,UAAWC,8CAEb,4BAAQC,UAAU,OAAlB,oB,GAViBC,aAkBRC,cAAQ,KAAMC,EAAdD,CAAuBT,GCnBhCW,E,wLAEF,OAAQC,KAAKR,MAAMS,MACjB,KAAK,KACH,OACF,KAAK,EACH,OACE,4BAAI,uBAAGC,KAAK,gBAAR,uBAGR,QACE,MAAO,CACL,wBAAIC,IAAI,KAAI,kBAAC,EAAD,OACZ,wBAAIA,IAAI,IAAIjB,MAAO,CAACkB,OAAQ,WAA5B,WAAgDJ,KAAKR,MAAMS,KAAKI,SAChE,wBAAIF,IAAI,KAAI,uBAAGD,KAAK,eAAR,iB,+BAOlB,OACD,6BACE,yBAAKP,UAAU,eACb,kBAAC,IAAD,CACAW,GAAIN,KAAKR,MAAMS,KAAO,WAAa,IACnCN,UAAU,mBAFV,UAMA,wBAAIA,UAAU,SACVK,KAAKO,uB,GA/BKX,aA2CNC,mBAJf,YACE,MAAO,CAACI,KADsB,EAANA,QAIXJ,CAAyBE,GCzClCS,EAAY,kBAAM,4CAClBC,EAAY,kBAAM,4CAElBC,E,4LAEFV,KAAKR,MAAMpB,c,+BAKX,OACE,yBAAKuB,UAAU,aACb,kBAAC,IAAD,KACA,6BACA,kBAAE,EAAF,MACE,kBAAC,IAAD,CAAOgB,OAAK,EAACC,KAAK,IAAIC,UAAW5B,IACjC,kBAAC,IAAD,CAAO0B,OAAK,EAACC,KAAK,WAAWC,UAAWL,IACxC,kBAAC,IAAD,CAAOI,KAAK,eAAeC,UAAWJ,W,GAd9Bb,aAsBHC,cAAQ,KAAMC,EAAdD,CAAuBa,GC7BvBI,cAAgB,CAC7Bb,KCFa,WAA8B,IAArBc,EAAoB,uDAAb,KAAMC,EAAO,uCAC1C,OAAOA,EAAOrC,MACZ,INJsB,aMKpB,OAAOqC,EAAOpC,UAAW,EAC3B,QACE,OAAOmC,MCMPE,EAAQC,YAAYC,EAAU,GAAIC,YAAgBC,MAExDC,IAASC,OACR,kBAAC,IAAD,CAAUN,MAAOA,GAAjB,IAAyB,kBAAC,EAAD,MAAzB,KACCO,SAASC,cAAc,UAEzBC,QAAQC,IAAI,gBAAiBjC,8CAC7BgC,QAAQC,IAAI,iBAAkBjC,gB","file":"static/js/main.5426a65b.chunk.js","sourcesContent":["import axios from 'axios';\nimport { FETCH_USER } from './types';\n\nexport const fetchUser = () => async dispatch => {\n  const res = await axios.get('api/current_user')\n    dispatch({type: FETCH_USER, payload: res.data})\n};\n\nexport const handleToken = (token) => async dispatch => {\n  const res = await axios.post('/api/stripe', token)\n  dispatch({ type: FETCH_USER, payload: res.data});\n};\n\n","export const FETCH_USER = 'fetch_user';\n","import React from 'react';\n\nconst Landing = () => {\n  return (\n    <div style= {{textAlign: 'center'}} >\n    <h1>\n    Emaily\n    </h1>\n    Collect feedback from your users\n    </div>\n  );\n};\n\nexport default Landing;\n","import React , { Component }from 'react';\nimport StripeCheckout from 'react-stripe-checkout';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions'\n\n\nclass Payments extends Component {\n  render() {\n    return (\n      <StripeCheckout\n        name=\"Emaily\"\n        description=\"$5 for 5 email credits\"\n        amount= {500}\n        token={token=> this.props.handleToken(token)}\n        stripeKey={process.env.REACT_APP_STRIPE_KEY}\n      >\n      <button className=\"btn\">\n      Add credits\n      </button>\n      </StripeCheckout>\n    );\n  };\n};\n\nexport default connect(null, actions)(Payments)\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport Payments from './Payments';\n\nclass Header extends Component {\n  renderContent(){\n    switch (this.props.auth){\n      case null:\n        return;\n      case false:\n        return (\n          <li><a href=\"/auth/google\"> Login with Google</a></li>\n\n          )\n      default:\n        return [\n          <li key=\"1\"><Payments /></li>,\n          <li key=\"3\" style={{margin: '0 10px'}}>Credits {this.props.auth.credits}</li>,\n          <li key=\"2\"><a href=\"/api/logout\"> Logout </a></li>\n\n        ];\n    }\n  }\n\n  render() {\n    return (\n   <nav>\n     <div className=\"nav-wrapper\">\n       <Link\n       to={this.props.auth ? '/surveys' : '/'}\n       className=\"left brand-logo\"\n       >\n       Emaily\n       </Link>\n       <ul className=\"right\">\n          {this.renderContent()}\n       </ul>\n     </div>\n   </nav>\n    )\n  }\n}\n\nfunction mapStateToProps({auth}){\n  return {auth}\n}\n\nexport default connect(mapStateToProps)(Header);\n","import React, { Component } from 'react';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\n\nimport Landing from './Landing';\nimport Header from './Header';\nconst Dashboard = () => <h2> Dashboard </h2>\nconst SurveyNew = () => <h2> SurveyNew </h2>\n\nclass App extends Component {\n  componentDidMount(){\n    this.props.fetchUser();\n  }\n\n\n  render(){\n    return (\n      <div className=\"container\">\n        <BrowserRouter>\n        <div>\n        < Header />\n          <Route exact path=\"/\" component={Landing}/>\n          <Route exact path=\"/surveys\" component={Dashboard}/>\n          <Route path=\"/surveys/new\" component={SurveyNew}/>\n        </div>\n        </BrowserRouter>\n      </div>\n    );\n  };\n};\n\nexport default connect(null, actions)(App)\n","import { combineReducers } from 'redux';\nimport authReducer from './authReducer';\n\nexport default combineReducers({\n  auth: authReducer\n})\n","import { FETCH_USER } from '../actions/types'\n\nexport default function(state= null, action){\n  switch(action.type){\n    case FETCH_USER:\n      return action.payload || false;\n    default:\n      return state;\n  }\n}\n","import 'materialize-css/dist/css/materialize.min.css'\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport reduxThunk from 'redux-thunk';\n\n\n\nimport App from './components/App';\nimport reducers from './reducers';\n\n\nconst store = createStore(reducers, {}, applyMiddleware(reduxThunk));\n\nReactDOM.render(\n <Provider store={store}> <App /> </Provider>,\n  document.querySelector('#root'));\n\nconsole.log('STRIPE KEY IS', process.env.REACT_APP_STRIPE_KEY)\nconsole.log('Environment is', process.env.NODE_ENV)\n"],"sourceRoot":""}